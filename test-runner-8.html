<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task 8 Tests - Integration & Polishing</title>
    <link rel="stylesheet" href="style.css" />
    <style>
      body {
        padding: 20px;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
      }
      .test-info {
        background: #e3f2fd;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 20px;
      }
      #console-output {
        background: #000;
        color: #0f0;
        padding: 15px;
        border-radius: 8px;
        font-family: "Courier New", monospace;
        white-space: pre-wrap;
        max-height: 600px;
        overflow-y: auto;
      }
    </style>
  </head>
  <body>
    <h1>Task 8 Tests: Integration and Polishing</h1>

    <div class="test-info">
      <h2>Test Coverage</h2>
      <ul>
        <li>
          <strong>8.1 Component Integration:</strong> E2E flow, SessionStorage
          persistence, error handling
        </li>
        <li>
          <strong>8.2 Responsive Design:</strong> Media queries, touch target
          sizes
        </li>
        <li>
          <strong>8.3 Acceptance Criteria:</strong> All 10 requirements
          validation
        </li>
      </ul>
      <button onclick="runTask8Tests()" class="btn btn-primary">
        Run Tests
      </button>
    </div>

    <h2>Console Output:</h2>
    <div id="console-output"></div>

    <!-- Hidden DOM elements for testing -->
    <div style="display: none">
      <form id="team-assignment-form">
        <input type="radio" name="mode" value="teamCount" checked />
        <input type="number" id="team-count-input" value="3" />
        <input type="number" id="team-size-input" value="4" />
        <select id="constraint-type">
          <option value="hiragana">ひらがな</option>
          <option value="katakana">カタカナ</option>
        </select>
        <input type="number" id="constraint-count" value="3" />
        <input type="number" id="other-team-count" value="2" />
        <button type="submit">実行</button>
      </form>

      <div id="member-list"></div>
      <div id="team-result-container"></div>
      <button id="toggle-view-btn">表示切替</button>
      <button id="re-execute-btn">再抽選</button>
      <button id="export-image-btn">画像保存</button>
    </div>

    <script src="app.js"></script>
    <script src="app.test-8.js"></script>

    <script>
      // Capture console output
      const consoleOutput = document.getElementById("console-output");
      const originalLog = console.log;
      const originalError = console.error;
      const originalWarn = console.warn;

      console.log = function (...args) {
        originalLog.apply(console, args);
        consoleOutput.textContent += args.join(" ") + "\n";
      };

      console.error = function (...args) {
        originalError.apply(console, args);
        consoleOutput.textContent += "ERROR: " + args.join(" ") + "\n";
      };

      console.warn = function (...args) {
        originalWarn.apply(console, args);
        consoleOutput.textContent += "WARN: " + args.join(" ") + "\n";
      };
    </script>
  </body>
</html>
